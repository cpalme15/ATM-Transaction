import java.io.*;
import java.util.*;

public class ATM {


	public static void main(String[] args) {
   File f = null;
   File fo=null;
   PrintWriter fout=null;
   Scanner k=null;
   String fname="";
   String lname="";
   double beforebal=0.0;
   double afterbal=0.0;
   char transtype=' ';
   int amount=0;
   f= new File ("transactions.txt");
   fo=new File("statement.txt");
   final double minbal = 300.0;
    try {
		k=new Scanner(f);
		fout= new PrintWriter(fo);
	} catch (FileNotFoundException e) {
		
		e.printStackTrace();
	}
    
      
      
      
      while(k.hasNext()){
    	  fname=k.next();
          lname=k.next();
          beforebal=k.nextDouble();
          transtype=k.next().charAt(0);
          amount=k.nextInt();
          
      fout.println(lname+" "+fname);
      fout.println("Checking balance before transaction: "+ beforebal);
      fout.println("Transaction Type: "+transtype);
      fout.println("Transaction Amount: "+ amount);
      switch(transtype){
      
      case 'W':
    	  if(beforebal<0){
          afterbal=beforebal;
    	  fout.println("Check balance after transaction: "+ afterbal);
          fout.println("You have a negative amount in your"
    	  + " account cannot withdraw any funds");
    	}
    	  else if (amount>beforebal){
    		  afterbal=beforebal;
    		  fout.println("Check balance after transaction: "+ afterbal);
    		  fout.println("You can not take out more than you have");
    		 
    	  }
    	  else if(amount<0){
    		  afterbal=beforebal;
    		  fout.println("Check balance after transaction: "+ afterbal);
    		  fout.println("You can not subtract negative funds to your account");
    	      }
    	  else {
    		  
    		  afterbal=(beforebal-amount);
    		  fout.println("Check balance after transaction: "+ afterbal);
    	       if(afterbal<minbal)
    	       fout.println("Warning: Your account balance is below the $300"
    	       		+ " minimum balance limit");
    	       else
    	    	   afterbal=(beforebal-amount);
    	  }
      case 'D':
    	  
      case 'R':
      }
      
      fout.println("====================================================");
      }
      
k.close();
fout.close();
	} 
}
